{"version":3,"sources":["components/MovieCard/MovieCard.tsx","components/MoviesList/MoviesList.tsx","components/api/request.ts","components/api/Form/Form.tsx","components/FindMovie/FindMovie.tsx","App.tsx","index.tsx"],"names":["MovieCard","movie","className","src","Poster","alt","Title","Plot","MoviesList","movies","map","imdbID","BASE_URL","request","title","fetch","json","result","Form","callbackForMovies","prevMovies","setPrev","prev","useState","movieForFind","setMovieForFind","isFilmValid","setIsFilmValid","toLowerCase","Response","onSubmit","event","preventDefault","find","el","htmlFor","type","id","placeholder","value","classNames","onChange","target","onClick","finder","FindMovie","moviesPrev","preview","setPreview","App","setMovies","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fdcd036c.chunk.js","sourcesContent":["import React from 'react';\nimport './MovieCard.scss';\n\ntype Props = {\n  movie: Movie;\n};\n\nexport const MovieCard: React.FC<Props> = ({ movie }) => {\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\" data-cy=\"card-image\">\n        <figure className=\"image is-4by3\">\n          <img\n            src={movie.Poster}\n            alt=\"Film logo\"\n          />\n        </figure>\n      </div>\n      <div className=\"card-content\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <figure className=\"image is-48x48\">\n              <img\n                src=\"images/imdb-logo.jpeg\"\n                alt=\"imdb\"\n              />\n            </figure>\n          </div>\n          <div className=\"media-content\">\n            <p className=\"title is-8\" data-cy=\"movie-title\">{movie.Title}</p>\n          </div>\n        </div>\n\n        <div className=\"content\" data-cy=\"content\">\n          {movie.Plot}\n          <br />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport './MoviesList.scss';\nimport { MovieCard } from '../MovieCard';\n\ninterface Props {\n  movies: Movie[];\n}\n\nexport const MoviesList: React.FC<Props> = ({ movies }) => {\n  return (\n    <div className=\"movies\">\n      {movies.map(movie => (\n        <MovieCard\n          key={movie.imdbID}\n          movie={movie}\n        />\n      ))}\n    </div>\n  );\n};\n","const BASE_URL = 'https://www.omdbapi.com/?apikey=2d2038e9&?';\n\nexport async function request(title : string) {\n  const result = await (await fetch(`${BASE_URL}&t=${title}`)).json();\n\n  return result;\n}\n","import classNames from 'classnames';\nimport { useState } from 'react';\nimport { request } from '../request';\n\ninterface Props {\n  callbackForMovies : (arg0 : Movie[]) => void;\n  prevMovies: Movie[];\n  setPrev : (arg0 : Movie | null) => void;\n  prev : Movie | null;\n}\n\nexport const Form : React.FC<Props> = (\n  {\n    callbackForMovies, prevMovies, setPrev, prev,\n  },\n) => {\n  const [movieForFind, setMovieForFind] = useState('');\n  const [isFilmValid, setIsFilmValid] = useState(true);\n\n  async function finder() {\n    const result = await request(movieForFind.toLowerCase());\n\n    if (result.Response !== 'False') {\n      setPrev(result);\n    } else {\n      setPrev(null);\n      setIsFilmValid(false);\n    }\n  }\n\n  return (\n\n    <form\n      className=\"find-movie\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        if (prev) {\n          if (!prevMovies.find(el => el.imdbID === prev.imdbID)) {\n            callbackForMovies([...prevMovies, prev]);\n            setPrev(null);\n            setMovieForFind('');\n          }\n        }\n      }}\n    >\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"movie-title\">\n          Movie title\n        </label>\n\n        <div className=\"control\">\n          <input\n            type=\"text\"\n            id=\"movie-title\"\n            placeholder=\"Enter a title to search\"\n            value={movieForFind}\n            className={classNames('input', { 'is-danger': !isFilmValid })}\n            onChange={(event) => {\n              setMovieForFind(event.target.value);\n              if (!isFilmValid) {\n                setIsFilmValid(true);\n              }\n            }}\n          />\n        </div>\n\n        { !isFilmValid\n          && (\n            <p className=\"help is-danger\">\n              Can&apos;t find a movie with such a title\n            </p>\n          )}\n      </div>\n\n      <div className=\"field is-grouped\">\n        <div className=\"control\">\n          <button\n            type=\"button\"\n            className=\"button is-light\"\n            onClick={() => {\n              finder();\n            }}\n          >\n            Find a movie\n          </button>\n        </div>\n\n        <div className=\"control\">\n          <button\n            type=\"submit\"\n            className=\"button is-primary\"\n          >\n            Add to the list\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n};\n","import { useState } from 'react';\nimport { Form } from '../api/Form/Form';\nimport { MovieCard } from '../MovieCard/MovieCard';\nimport './FindMovie.scss';\n\ninterface Props {\n  callbackForMovies: (arg0 : Movie[]) => void;\n  moviesPrev: Movie[];\n}\n\nexport const FindMovie: React.FC<Props> = (\n  { callbackForMovies, moviesPrev },\n) => {\n  const [preview, setPreview] = useState<Movie | null>(null);\n\n  return (\n    <>\n      <Form\n        callbackForMovies={callbackForMovies}\n        prevMovies={moviesPrev}\n        setPrev={setPreview}\n        prev={preview}\n      />\n      <div className=\"container\">\n        <h2 className=\"title\">Preview</h2>\n        { preview\n        && <MovieCard movie={preview} />}\n      </div>\n    </>\n  );\n};\n","import React, { useState } from 'react';\nimport './App.scss';\nimport { MoviesList } from './components/MoviesList';\nimport { FindMovie } from './components/FindMovie';\n\nexport const App: React.FC = () => {\n  const [movies, setMovies] = useState<Movie[]>([]);\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-content\">\n        <MoviesList movies={movies} />\n      </div>\n      <div className=\"sidebar\">\n        <FindMovie callbackForMovies={setMovies} moviesPrev={movies} />\n      </div>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport 'bulma/css/bulma.css';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}